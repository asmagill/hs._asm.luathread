38,39d37
< #import "../../LuaSkinThread.h"
< 
66,67c64,65
< const char *path_at_index(__unused lua_State *L, int i) {
<     NSString *path = [LST_getLuaSkin() toNSObjectAtIndex:i];
---
> const char *path_at_index(lua_State *L, int i) {
>     NSString *path = [[LuaSkin shared] toNSObjectAtIndex:i];
77c75
<             NSString *tag = [LST_getLuaSkin() toNSObjectAtIndex:-1];
---
>             NSString *tag = [[LuaSkin shared] toNSObjectAtIndex:-1];
85c83
< NSArray *tags_from_file(__unused lua_State *L, NSString *filePath) {
---
> NSArray *tags_from_file(lua_State *L, NSString *filePath) {
94c92
<         [LST_getLuaSkin() logError:[NSString stringWithFormat:@"hs.fs tags_from_file() Unable to get tags for %@: %@", url, [error localizedDescription]]];
---
>         [[LuaSkin shared] logError:[NSString stringWithFormat:@"hs.fs tags_from_file() Unable to get tags for %@: %@", url, [error localizedDescription]]];
100c98
< BOOL tags_to_file(__unused lua_State *L, NSString *filePath, NSArray *tags) {
---
> BOOL tags_to_file(lua_State *L, NSString *filePath, NSArray *tags) {
108c106
<         [LST_getLuaSkin() logError:[NSString stringWithFormat:@"hs.fs tags_to_file() Unable to set tags for %@: %@", url, [error localizedDescription]]];
---
>         [[LuaSkin shared] logError:[NSString stringWithFormat:@"hs.fs tags_to_file() Unable to set tags for %@: %@", url, [error localizedDescription]]];
128c126
<     [LST_getLuaSkin() checkArgs:LS_TSTRING, LS_TBREAK];
---
>     [[LuaSkin shared] checkArgs:LS_TSTRING, LS_TBREAK];
338c336
<     [LST_getLuaSkin() checkArgs:LS_TSTRING, LS_TSTRING, LS_TBOOLEAN|LS_TOPTIONAL, LS_TBREAK];
---
>     [[LuaSkin shared] checkArgs:LS_TSTRING, LS_TSTRING, LS_TBOOLEAN|LS_TOPTIONAL, LS_TBREAK];
344c342
<         error = (BOOL)symlink(oldpath, newpath);
---
>         error = symlink(oldpath, newpath);
346c344
<         error = (BOOL)link(oldpath, newpath);
---
>         error = link(oldpath, newpath);
372c370
<     [LST_getLuaSkin() checkArgs:LS_TSTRING, LS_TBREAK];
---
>     [[LuaSkin shared] checkArgs:LS_TSTRING, LS_TBREAK];
401c399
<     [LST_getLuaSkin() checkArgs:LS_TSTRING, LS_TBREAK];
---
>     [[LuaSkin shared] checkArgs:LS_TSTRING, LS_TBREAK];
469c467
<     [LST_getLuaSkin() checkArgs:LS_TSTRING, LS_TBREAK];
---
>     [[LuaSkin shared] checkArgs:LS_TSTRING, LS_TBREAK];
563c561
<     [LST_getLuaSkin() checkArgs:LS_TSTRING, LS_TNUMBER|LS_TOPTIONAL, LS_TNUMBER|LS_TOPTIONAL, LS_TBREAK];
---
>     [[LuaSkin shared] checkArgs:LS_TSTRING, LS_TNUMBER|LS_TOPTIONAL, LS_TNUMBER|LS_TOPTIONAL, LS_TBREAK];
712c710
<     [LST_getLuaSkin() checkArgs:LS_TSTRING, LS_TSTRING|LS_TOPTIONAL, LS_TBREAK];
---
>     [[LuaSkin shared] checkArgs:LS_TSTRING, LS_TSTRING|LS_TOPTIONAL, LS_TBREAK];
788c786
<     LuaSkin *skin = LST_getLuaSkin();
---
>     LuaSkin *skin = [LuaSkin shared];
821c819
<     LuaSkin *skin = LST_getLuaSkin();
---
>     LuaSkin *skin = [LuaSkin shared];
844c842
<     LuaSkin *skin = LST_getLuaSkin();
---
>     LuaSkin *skin = [LuaSkin shared];
865c863
<     LuaSkin *skin = LST_getLuaSkin();
---
>     LuaSkin *skin = [LuaSkin shared];
901c899
<     LuaSkin *skin = LST_getLuaSkin() ;
---
>     LuaSkin *skin = [LuaSkin shared] ;
930c928
<     LuaSkin *skin = LST_getLuaSkin() ;
---
>     LuaSkin *skin = [LuaSkin shared] ;
