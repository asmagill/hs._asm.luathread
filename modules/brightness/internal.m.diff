6d5
< #import "../../LuaSkinThread.h"
12c11
<   uint64_t lux = (uint64_t)((-3*pow(10, -27))*pow(x, 4) + (2.6*pow(10, -19))*pow(x, 3) - (3.4*pow(10,-12))*pow(x, 2) + (3.9*pow(10, -5))*x - 0.19);
---
>   uint64_t lux = (-3*pow(10, -27))*pow(x, 4) + (2.6*pow(10, -19))*pow(x, 3) - (3.4*pow(10,-12))*pow(x, 2) + (3.9*pow(10, -5))*x - 0.19;
35c34
<     uint64_t lux = (uint64_t)-1;
---
>     uint64_t lux = -1;
52c51
<     lua_pushinteger(L, (lua_Integer)lux);
---
>     lua_pushinteger(L, lux);
77c76
<             IODisplaySetFloatParameter(service, kNilOptions, CFSTR(kIODisplayBrightnessKey), (float)level);
---
>             IODisplaySetFloatParameter(service, kNilOptions, CFSTR(kIODisplayBrightnessKey), level);
111c110
<             lua_pushinteger(L, (lua_Integer)(level * 100.0));
---
>             lua_pushinteger(L, level * 100.0);
129c128
<     LuaSkin *skin = LST_getLuaSkin();
---
>     LuaSkin *skin = [LuaSkin shared];
